[
  {
    "objectID": "rasterBuffer.html",
    "href": "rasterBuffer.html",
    "title": "Extracting buffers",
    "section": "",
    "text": "BeeSpatial provides forage, nesting, and insecticide rasters as buffered summaries using distance-weighted means of 1, 3, and 5km radius buffers. This means that each pixel of the raster represents the distance-weighted mean of the index values within the corresponding buffer radius. Only the CDL output summary is not a distance-weighted mean. It is the proportion of each land cover class.\nIf you want your own buffer summaries of the CDL or forage, nesting, or insecticide indices, this tutorial shows how to do that using proportional area (for CDL) or simple means (habitat indices)."
  },
  {
    "objectID": "rasterBuffer.html#load-packages",
    "href": "rasterBuffer.html#load-packages",
    "title": "Extracting buffers",
    "section": "Load packages",
    "text": "Load packages\nFirst, load the necessary packages. More info on these packages and their installation can be found here.\n\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(sf)\nlibrary(terra)\nlibrary(tidyterra)\n\nRead in the CDL data downloaded from BeeSpatial.\n\ncentre_cdl &lt;- rast(\"data/CDL_2021_FIPS_42027.tif\")    # change the filepath to reflect where you've stored the data"
  },
  {
    "objectID": "rasterBuffer.html#read-in-point-data",
    "href": "rasterBuffer.html#read-in-point-data",
    "title": "Extracting buffers",
    "section": "Read in point data",
    "text": "Read in point data\nOften we collect and store point data as coordinates in a non-spatial format such as a csv file which we need to convert into a spatial object in R.\nIn the /data directory you should find a csv file with a set of points from Centre County Pa. We will read in and inspect these data.\n\ncentre_sites &lt;- read.csv(\"data/centre_co_pts.csv\")\ncentre_sites\n\n  SiteID      Long      Lat\n1  Site1 -77.70654 40.80497\n2  Site2 -77.89991 40.74921\n3  Site3 -77.93778 41.00641\n4  Site4 -77.86590 40.81954\n5  Site5 -77.64715 41.02197\n6  Site6 -77.84409 40.87366\n7  Site7 -77.77373 40.82634\n8  Site8 -77.69934 40.87697\n\n\nand convert them into an sf spatial object. We use the coords= argument to indicate the columns that hold the longitude (X) and latitude (Y). We can also specify the CRS using the ‘crs=’ arguments and the appropriate EPSG code or other crs object. In our case we will give the EPSG code 4326 which corresponds to WGS 84, the system commonly used by Google Earth.\n\ncentre_sites &lt;- st_as_sf(centre_sites, \n                         coords=c(\"Long\",\"Lat\"), #indicate the x and y columns\n                         crs = 4326) #set the crs\n\nwhen we inspect the center_sites object we see that there is now additional information at the top.\n\ncentre_sites\n\nSimple feature collection with 8 features and 1 field\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -77.93778 ymin: 40.74921 xmax: -77.64715 ymax: 41.02197\nGeodetic CRS:  WGS 84\n  SiteID                   geometry\n1  Site1 POINT (-77.70654 40.80497)\n2  Site2 POINT (-77.89991 40.74921)\n3  Site3 POINT (-77.93778 41.00641)\n4  Site4  POINT (-77.8659 40.81954)\n5  Site5 POINT (-77.64715 41.02197)\n6  Site6 POINT (-77.84409 40.87366)\n7  Site7 POINT (-77.77373 40.82634)\n8  Site8 POINT (-77.69934 40.87697)"
  },
  {
    "objectID": "rasterBuffer.html#visualize-point-data",
    "href": "rasterBuffer.html#visualize-point-data",
    "title": "Extracting buffers",
    "section": "Visualize point data",
    "text": "Visualize point data\nUsing ggplot2 and sf we can add our points to our earlier map of Centre county with the geom_sf() function.\n\n#Centre county CDL from raster exercise\ncentre_cdl &lt;- rast(\"data/centre_county_cdl_2021.tif\") \n\nggplot()+\n  geom_spatraster(data = centre_cdl, aes(fill = class_name)) +\n  geom_sf(data=centre_sites) + \n  theme(legend.title = element_text(size = 7), \n        legend.text = element_text(size = 7), \n        legend.key.size = unit(0.25, 'cm'),\n        legend.position=\"bottom\") \n\n&lt;SpatRaster&gt; resampled to 500797 cells."
  },
  {
    "objectID": "rasterBuffer.html#buffer-around-points",
    "href": "rasterBuffer.html#buffer-around-points",
    "title": "Extracting buffers",
    "section": "Buffer around points",
    "text": "Buffer around points\nWe can create a polygon object from our points by buffering around them in a 1000m radius. For example, we might do this when assessing land cover values around a site.\n\ncentre_sites_1000m &lt;- st_buffer(centre_sites, 1000)\ncentre_sites_1000m\n\nSimple feature collection with 8 features and 1 field\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: -77.94977 ymin: 40.74008 xmax: -77.63518 ymax: 41.03112\nGeodetic CRS:  WGS 84\n  SiteID                       geometry\n1  Site1 POLYGON ((-77.70945 40.8137...\n2  Site2 POLYGON ((-77.90568 40.7412...\n3  Site3 POLYGON ((-77.92781 41.0013...\n4  Site4 POLYGON ((-77.85495 40.8230...\n5  Site5 POLYGON ((-77.65648 41.0163...\n6  Site6 POLYGON ((-77.84816 40.8651...\n7  Site7 POLYGON ((-77.76805 40.8184...\n8  Site8 POLYGON ((-77.69978 40.886,...\n\n\nWe can visualize this buffer by adding it to our plot. Note you may need to expand your plot size to see the buffers behind the points.\n\nggplot()+\n  geom_spatraster(data = centre_cdl, aes(fill = class_name)) +\n  geom_sf(data = centre_sites_1000m)+\n  geom_sf(data=centre_sites) + \n  theme(legend.title = element_text(size = 7), \n        legend.text = element_text(size = 7), \n        legend.key.size = unit(0.25, 'cm'),\n        legend.position=\"bottom\") \n\n&lt;SpatRaster&gt; resampled to 500797 cells."
  },
  {
    "objectID": "rasterBuffer.html#extract-cdl-values-within-buffers",
    "href": "rasterBuffer.html#extract-cdl-values-within-buffers",
    "title": "Extracting buffers",
    "section": "Extract CDL values within buffers",
    "text": "Extract CDL values within buffers\nIf we wanted to assess land cover around a site in a way that is similar to the results that beeshiny provides, we can use the extract() function from terra. First providing the raster we want to extract values from, then the sf object that defines the zones in which the raster will the summarized.\n\ncentre_table_1000m &lt;- extract(centre_cdl, centre_sites_1000m, fun=\"table\", ID=F)\n\nWarning: [extract] transforming vector data to the CRS of the raster\n\ncentre_table_1000m\n\n  Background Corn Cotton Rice Sorghum Soybeans Sunflower Peanuts Tobacco\n1          0 1241      0    0      12     1021         0       0       0\n2          0 1167      0    0       0      968         0       0       0\n3          0    0      0    0       0        0         0       0       0\n4          0   64      0    0       0       80         0       0       0\n5          0   18      0    0       1        5         0       0       0\n6          0  882      0    0       1      836         0       0       0\n7          0    0      0    0       0        0         0       0       0\n8          0   92      0    0       0        0         0       0       0\n  Sweet Corn Pop or Orn Corn Mint Barley Durum Wheat Spring Wheat Winter Wheat\n1          0               0    0      0           0            0          225\n2          0               0    0      7           0            0          445\n3          0               0    0      0           0            0            0\n4          0               0    0      1           0            0            7\n5          0               0    0      0           0            0            1\n6          0               0    0      1           0            0           24\n7          0               0    0      0           0            0            0\n8          0               0    0      0           0            0            0\n  Other Small Grains Dbl Crop WinWht/Soybeans Rye Oats Millet Speltz Canola\n1                  0                        0   2   20      0      0      0\n2                  0                        0   7  136      0      0      0\n3                  0                        0   0    0      0      0      0\n4                  0                        0   0    0      0      0      0\n5                  0                        0   0    0      0      0      0\n6                  0                        0   0    0      0      0      0\n7                  0                        0   0    0      0      0      0\n8                  0                        0   0    0      0      0      0\n  Flaxseed Safflower Rape Seed Mustard Alfalfa Other Hay/Non Alfalfa Camelina\n1        0         0         0       0     156                    88        0\n2        0         0         0       0     100                    29        0\n3        0         0         0       0       0                     0        0\n4        0         0         0       0      82                   410        0\n5        0         0         0       0       2                    50        0\n6        0         0         0       0     124                   407        0\n7        0         0         0       0       0                     0        0\n8        0         0         0       0       4                    25        0\n  Buckwheat Sugarbeets Dry Beans Potatoes Other Crops Sugarcane Sweet Potatoes\n1         0          0        43        0           0         0              0\n2         0          0       118        0           0         0              0\n3         0          0         0        0           0         0              0\n4         0          0         0        0           0         0              0\n5         0          0         1        0           0         0              0\n6         0          0         0        0           0         0              0\n7         0          0         0        0           0         0              0\n8         0          0         0        0           0         0              0\n  Misc Vegs & Fruits Watermelons Onions Cucumbers Chick Peas Lentils Peas\n1                  0           0      0         0          0       0    0\n2                  0           0      0         0          0       0    0\n3                  0           0      0         0          0       0    0\n4                  0           0      0         0          0       0    0\n5                  0           0      0         0          0       0    0\n6                  0           0      0         0          0       0    0\n7                  0           0      0         0          0       0    0\n8                  0           0      0         0          0       0    0\n  Tomatoes Caneberries Hops Herbs Clover/Wildflowers Sod/Grass Seed Switchgrass\n1        0           0    0     0                  0              0           0\n2        0           0    0     0                  0              0           0\n3        0           0    0     0                  0              0           0\n4        1           0    0     0                  0              0           0\n5        1           0    0     0                  0              0           0\n6        0           0    0     0                  0              0           0\n7        0           0    0     0                  0              0           0\n8        0           0    0     0                  0              0           0\n  Fallow/Idle Cropland Forest Cherries Peaches Apples Grapes Christmas Trees\n1                    0      0        0       0      0      0               0\n2                    0      0        0       0      0      0               0\n3                    0      0        0       0      0      0               0\n4                    0      0        0       0      1      0               0\n5                    0      0        0       0      0      0               0\n6                    0      0        0       0      1      0               0\n7                    0      0        0       0      0      0               0\n8                    0      0        0       0      0      0               0\n  Other Tree Crops Citrus Pecans Almonds Walnuts Pears Clouds/No Data Developed\n1                0      0      0       0       0     0              0         0\n2                0      0      0       0       0     0              0         0\n3                0      0      0       0       0     0              0         0\n4                0      0      0       0       0     0              0         0\n5                0      0      0       0       0     0              0         0\n6                0      0      0       0       0     0              0         0\n7                0      0      0       0       0     0              0         0\n8                0      0      0       0       0     0              0         0\n  Water Wetlands Nonag/Undefined Aquaculture Open Water Perennial Ice/Snow\n1     0        0               0           0          0                  0\n2     0        0               0           0          0                  0\n3     0        0               0           0          0                  0\n4     0        0               0           0          0                  0\n5     0        0               0           0       1621                  0\n6     0        0               0           0          0                  0\n7     0        0               0           0          0                  0\n8     0        0               0           0          0                  0\n  Developed/Open Space Developed/Low Intensity Developed/Med Intensity\n1                  224                      69                      22\n2                   52                      95                      45\n3                  208                       9                       2\n4                  298                     367                     401\n5                  172                      95                      33\n6                  299                     214                      22\n7                  135                       1                       0\n8                  162                       8                       1\n  Developed/High Intensity Barren Deciduous Forest Evergreen Forest\n1                        2      4              178               10\n2                        8      0              116                1\n3                        0      0             3263                1\n4                      137      1              474              106\n5                        0      7              391               35\n6                        4      1              236                6\n7                        0      0             3358                9\n8                        0      7             2216              533\n  Mixed Forest Shrubland Grassland/Pasture Woody Wetlands Herbaceous Wetlands\n1           22         0               213              0                   0\n2           12         0               241              0                   0\n3           56         0                 9              0                   0\n4          303         1               806              0                   0\n5          692         1               415              5                   1\n6           56         1               437              0                   0\n7           37         5                 4              0                   0\n8          458         1                36              5                   0\n  Pistachios Triticale Carrots Asparagus Garlic Cantaloupes Prunes Olives\n1          0         0       0         0      0           0      0      0\n2          0         2       0         0      0           0      0      0\n3          0         0       0         0      0           0      0      0\n4          0         1       0         0      0           0      0      0\n5          0         1       0         0      0           0      0      0\n6          0         0       0         0      0           0      0      0\n7          0         0       0         0      0           0      0      0\n8          0         0       0         0      0           0      0      0\n  Oranges Honeydew Melons Broccoli Avocados Peppers Pomegranates Nectarines\n1       0               0        0        0       0            0          0\n2       0               0        0        0       0            0          0\n3       0               0        0        0       0            0          0\n4       0               0        0        0       0            0          0\n5       0               0        0        0       0            0          0\n6       0               0        0        0       0            0          0\n7       0               0        0        0       0            0          0\n8       0               0        0        0       0            0          0\n  Greens Plums Strawberries Squash Apricots Vetch Dbl Crop WinWht/Corn\n1      0     0            0      0        0     0                    0\n2      0     0            0      0        0     0                    2\n3      0     0            0      0        0     0                    0\n4      0     0            0      0        0     0                    3\n5      0     0            0      0        0     0                    0\n6      0     0            0      0        0     0                    0\n7      0     0            0      0        0     0                    0\n8      0     0            0      0        0     0                    0\n  Dbl Crop Oats/Corn Lettuce Dbl Crop Triticale/Corn Pumpkins\n1                  0       0                       0        0\n2                  0       0                       0        0\n3                  0       0                       0        0\n4                  0       0                       1        1\n5                  1       0                       0        0\n6                  0       0                       0        0\n7                  0       0                       0        0\n8                  0       0                       0        0\n  Dbl Crop Lettuce/Durum Wht Dbl Crop Lettuce/Cantaloupe\n1                          0                           0\n2                          0                           0\n3                          0                           0\n4                          0                           0\n5                          0                           0\n6                          0                           0\n7                          0                           0\n8                          0                           0\n  Dbl Crop Lettuce/Cotton Dbl Crop Lettuce/Barley Dbl Crop Durum Wht/Sorghum\n1                       0                       0                          0\n2                       0                       0                          0\n3                       0                       0                          0\n4                       0                       0                          0\n5                       0                       0                          0\n6                       0                       0                          0\n7                       0                       0                          0\n8                       0                       0                          0\n  Dbl Crop Barley/Sorghum Dbl Crop WinWht/Sorghum Dbl Crop Barley/Corn\n1                       0                       0                    0\n2                       0                       0                    0\n3                       0                       0                    0\n4                       0                       1                    0\n5                       0                       0                    0\n6                       0                       0                    0\n7                       0                       0                    0\n8                       0                       0                    0\n  Dbl Crop WinWht/Cotton Dbl Crop Soybeans/Cotton Dbl Crop Soybeans/Oats\n1                      0                        0                      0\n2                      0                        0                      0\n3                      0                        0                      0\n4                      0                        0                      0\n5                      0                        0                      0\n6                      0                        0                      0\n7                      0                        0                      0\n8                      0                        0                      0\n  Dbl Crop Corn/Soybeans Blueberries Cabbage Cauliflower Celery Radishes\n1                      0           0       0           0      0        0\n2                      0           0       0           0      0        0\n3                      0           0       0           0      0        0\n4                      0           0       0           0      0        0\n5                      0           0       0           0      0        0\n6                      0           0       0           0      0        0\n7                      0           0       0           0      0        0\n8                      0           0       0           0      0        0\n  Turnips Eggplants Gourds Cranberries Dbl Crop Barley/Soybeans\n1       0         0      0           0                        0\n2       0         0      0           0                        0\n3       0         0      0           0                        0\n4       0         0      0           0                        0\n5       0         0      0           0                        0\n6       0         0      0           0                        0\n7       0         0      0           0                        0\n8       0         0      0           0                        0\n\n\nWe can calculate additional statistics such as the area within the buffer for each site.\n\nArea_m2 &lt;- rowSums(centre_table_1000m)*900\n\nand turn our table into proportional cover of different land classes.\n\ncentre_table_1000m_prop &lt;- centre_table_1000m/rowSums(centre_table_1000m)\n\ncentre_table_1000m_prop &lt;- cbind(Area_m2,centre_table_1000m_prop)\ncentre_table_1000m_prop\n\n  Area_m2 Background        Corn Cotton Rice      Sorghum    Soybeans Sunflower\n1 3196800          0 0.349380631      0    0 0.0033783784 0.287443694         0\n2 3195900          0 0.328639820      0    0 0.0000000000 0.272599268         0\n3 3193200          0 0.000000000      0    0 0.0000000000 0.000000000         0\n4 3192300          0 0.018043417      0    0 0.0000000000 0.022554271         0\n5 3194100          0 0.005071851      0    0 0.0002817695 0.001408848         0\n6 3196800          0 0.248310811      0    0 0.0002815315 0.235360360         0\n7 3194100          0 0.000000000      0    0 0.0000000000 0.000000000         0\n8 3193200          0 0.025930101      0    0 0.0000000000 0.000000000         0\n  Peanuts Tobacco Sweet Corn Pop or Orn Corn Mint       Barley Durum Wheat\n1       0       0          0               0    0 0.0000000000           0\n2       0       0          0               0    0 0.0019712757           0\n3       0       0          0               0    0 0.0000000000           0\n4       0       0          0               0    0 0.0002819284           0\n5       0       0          0               0    0 0.0000000000           0\n6       0       0          0               0    0 0.0002815315           0\n7       0       0          0               0    0 0.0000000000           0\n8       0       0          0               0    0 0.0000000000           0\n  Spring Wheat Winter Wheat Other Small Grains Dbl Crop WinWht/Soybeans\n1            0 0.0633445946                  0                        0\n2            0 0.1253168122                  0                        0\n3            0 0.0000000000                  0                        0\n4            0 0.0019734987                  0                        0\n5            0 0.0002817695                  0                        0\n6            0 0.0067567568                  0                        0\n7            0 0.0000000000                  0                        0\n8            0 0.0000000000                  0                        0\n           Rye        Oats Millet Speltz Canola Flaxseed Safflower Rape Seed\n1 0.0005630631 0.005630631      0      0      0        0         0         0\n2 0.0019712757 0.038299071      0      0      0        0         0         0\n3 0.0000000000 0.000000000      0      0      0        0         0         0\n4 0.0000000000 0.000000000      0      0      0        0         0         0\n5 0.0000000000 0.000000000      0      0      0        0         0         0\n6 0.0000000000 0.000000000      0      0      0        0         0         0\n7 0.0000000000 0.000000000      0      0      0        0         0         0\n8 0.0000000000 0.000000000      0      0      0        0         0         0\n  Mustard     Alfalfa Other Hay/Non Alfalfa Camelina Buckwheat Sugarbeets\n1       0 0.043918919           0.024774775        0         0          0\n2       0 0.028161081           0.008166714        0         0          0\n3       0 0.000000000           0.000000000        0         0          0\n4       0 0.023118128           0.115590640        0         0          0\n5       0 0.000563539           0.014088476        0         0          0\n6       0 0.034909910           0.114583333        0         0          0\n7       0 0.000000000           0.000000000        0         0          0\n8       0 0.001127396           0.007046223        0         0          0\n     Dry Beans Potatoes Other Crops Sugarcane Sweet Potatoes Misc Vegs & Fruits\n1 0.0121058559        0           0         0              0                  0\n2 0.0332300760        0           0         0              0                  0\n3 0.0000000000        0           0         0              0                  0\n4 0.0000000000        0           0         0              0                  0\n5 0.0002817695        0           0         0              0                  0\n6 0.0000000000        0           0         0              0                  0\n7 0.0000000000        0           0         0              0                  0\n8 0.0000000000        0           0         0              0                  0\n  Watermelons Onions Cucumbers Chick Peas Lentils Peas     Tomatoes Caneberries\n1           0      0         0          0       0    0 0.0000000000           0\n2           0      0         0          0       0    0 0.0000000000           0\n3           0      0         0          0       0    0 0.0000000000           0\n4           0      0         0          0       0    0 0.0002819284           0\n5           0      0         0          0       0    0 0.0002817695           0\n6           0      0         0          0       0    0 0.0000000000           0\n7           0      0         0          0       0    0 0.0000000000           0\n8           0      0         0          0       0    0 0.0000000000           0\n  Hops Herbs Clover/Wildflowers Sod/Grass Seed Switchgrass Fallow/Idle Cropland\n1    0     0                  0              0           0                    0\n2    0     0                  0              0           0                    0\n3    0     0                  0              0           0                    0\n4    0     0                  0              0           0                    0\n5    0     0                  0              0           0                    0\n6    0     0                  0              0           0                    0\n7    0     0                  0              0           0                    0\n8    0     0                  0              0           0                    0\n  Forest Cherries Peaches       Apples Grapes Christmas Trees Other Tree Crops\n1      0        0       0 0.0000000000      0               0                0\n2      0        0       0 0.0000000000      0               0                0\n3      0        0       0 0.0000000000      0               0                0\n4      0        0       0 0.0002819284      0               0                0\n5      0        0       0 0.0000000000      0               0                0\n6      0        0       0 0.0002815315      0               0                0\n7      0        0       0 0.0000000000      0               0                0\n8      0        0       0 0.0000000000      0               0                0\n  Citrus Pecans Almonds Walnuts Pears Clouds/No Data Developed Water Wetlands\n1      0      0       0       0     0              0         0     0        0\n2      0      0       0       0     0              0         0     0        0\n3      0      0       0       0     0              0         0     0        0\n4      0      0       0       0     0              0         0     0        0\n5      0      0       0       0     0              0         0     0        0\n6      0      0       0       0     0              0         0     0        0\n7      0      0       0       0     0              0         0     0        0\n8      0      0       0       0     0              0         0     0        0\n  Nonag/Undefined Aquaculture Open Water Perennial Ice/Snow\n1               0           0  0.0000000                  0\n2               0           0  0.0000000                  0\n3               0           0  0.0000000                  0\n4               0           0  0.0000000                  0\n5               0           0  0.4567484                  0\n6               0           0  0.0000000                  0\n7               0           0  0.0000000                  0\n8               0           0  0.0000000                  0\n  Developed/Open Space Developed/Low Intensity Developed/Med Intensity\n1           0.06306306            0.0194256757            0.0061936937\n2           0.01464376            0.0267530273            0.0126724866\n3           0.05862458            0.0025366404            0.0005636979\n4           0.08401466            0.1034677192            0.1130532845\n5           0.04846436            0.0267681037            0.0092983939\n6           0.08417793            0.0602477477            0.0061936937\n7           0.03803888            0.0002817695            0.0000000000\n8           0.04565953            0.0022547914            0.0002818489\n  Developed/High Intensity       Barren Deciduous Forest Evergreen Forest\n1             0.0005630631 0.0011261261       0.05011261     0.0028153153\n2             0.0022528865 0.0000000000       0.03266685     0.0002816108\n3             0.0000000000 0.0000000000       0.91967306     0.0002818489\n4             0.0386241895 0.0002819284       0.13363406     0.0298844094\n5             0.0000000000 0.0019723866       0.11017188     0.0098619329\n6             0.0011261261 0.0002815315       0.06644144     0.0016891892\n7             0.0000000000 0.0000000000       0.94618202     0.0025359256\n8             0.0000000000 0.0019729425       0.62457723     0.1502254791\n  Mixed Forest    Shrubland Grassland/Pasture Woody Wetlands\n1  0.006193694 0.0000000000       0.059966216    0.000000000\n2  0.003379330 0.0000000000       0.067868206    0.000000000\n3  0.015783540 0.0000000000       0.002536640    0.000000000\n4  0.085424302 0.0002819284       0.227234282    0.000000000\n5  0.194984503 0.0002817695       0.116934348    0.001408848\n6  0.015765766 0.0002815315       0.123029279    0.000000000\n7  0.010425472 0.0014088476       0.001127078    0.000000000\n8  0.129086809 0.0002818489       0.010146561    0.001409245\n  Herbaceous Wetlands Pistachios    Triticale Carrots Asparagus Garlic\n1        0.0000000000          0 0.0000000000       0         0      0\n2        0.0000000000          0 0.0005632216       0         0      0\n3        0.0000000000          0 0.0000000000       0         0      0\n4        0.0000000000          0 0.0002819284       0         0      0\n5        0.0002817695          0 0.0002817695       0         0      0\n6        0.0000000000          0 0.0000000000       0         0      0\n7        0.0000000000          0 0.0000000000       0         0      0\n8        0.0000000000          0 0.0000000000       0         0      0\n  Cantaloupes Prunes Olives Oranges Honeydew Melons Broccoli Avocados Peppers\n1           0      0      0       0               0        0        0       0\n2           0      0      0       0               0        0        0       0\n3           0      0      0       0               0        0        0       0\n4           0      0      0       0               0        0        0       0\n5           0      0      0       0               0        0        0       0\n6           0      0      0       0               0        0        0       0\n7           0      0      0       0               0        0        0       0\n8           0      0      0       0               0        0        0       0\n  Pomegranates Nectarines Greens Plums Strawberries Squash Apricots Vetch\n1            0          0      0     0            0      0        0     0\n2            0          0      0     0            0      0        0     0\n3            0          0      0     0            0      0        0     0\n4            0          0      0     0            0      0        0     0\n5            0          0      0     0            0      0        0     0\n6            0          0      0     0            0      0        0     0\n7            0          0      0     0            0      0        0     0\n8            0          0      0     0            0      0        0     0\n  Dbl Crop WinWht/Corn Dbl Crop Oats/Corn Lettuce Dbl Crop Triticale/Corn\n1         0.0000000000       0.0000000000       0            0.0000000000\n2         0.0005632216       0.0000000000       0            0.0000000000\n3         0.0000000000       0.0000000000       0            0.0000000000\n4         0.0008457852       0.0000000000       0            0.0002819284\n5         0.0000000000       0.0002817695       0            0.0000000000\n6         0.0000000000       0.0000000000       0            0.0000000000\n7         0.0000000000       0.0000000000       0            0.0000000000\n8         0.0000000000       0.0000000000       0            0.0000000000\n      Pumpkins Dbl Crop Lettuce/Durum Wht Dbl Crop Lettuce/Cantaloupe\n1 0.0000000000                          0                           0\n2 0.0000000000                          0                           0\n3 0.0000000000                          0                           0\n4 0.0002819284                          0                           0\n5 0.0000000000                          0                           0\n6 0.0000000000                          0                           0\n7 0.0000000000                          0                           0\n8 0.0000000000                          0                           0\n  Dbl Crop Lettuce/Cotton Dbl Crop Lettuce/Barley Dbl Crop Durum Wht/Sorghum\n1                       0                       0                          0\n2                       0                       0                          0\n3                       0                       0                          0\n4                       0                       0                          0\n5                       0                       0                          0\n6                       0                       0                          0\n7                       0                       0                          0\n8                       0                       0                          0\n  Dbl Crop Barley/Sorghum Dbl Crop WinWht/Sorghum Dbl Crop Barley/Corn\n1                       0            0.0000000000                    0\n2                       0            0.0000000000                    0\n3                       0            0.0000000000                    0\n4                       0            0.0002819284                    0\n5                       0            0.0000000000                    0\n6                       0            0.0000000000                    0\n7                       0            0.0000000000                    0\n8                       0            0.0000000000                    0\n  Dbl Crop WinWht/Cotton Dbl Crop Soybeans/Cotton Dbl Crop Soybeans/Oats\n1                      0                        0                      0\n2                      0                        0                      0\n3                      0                        0                      0\n4                      0                        0                      0\n5                      0                        0                      0\n6                      0                        0                      0\n7                      0                        0                      0\n8                      0                        0                      0\n  Dbl Crop Corn/Soybeans Blueberries Cabbage Cauliflower Celery Radishes\n1                      0           0       0           0      0        0\n2                      0           0       0           0      0        0\n3                      0           0       0           0      0        0\n4                      0           0       0           0      0        0\n5                      0           0       0           0      0        0\n6                      0           0       0           0      0        0\n7                      0           0       0           0      0        0\n8                      0           0       0           0      0        0\n  Turnips Eggplants Gourds Cranberries Dbl Crop Barley/Soybeans\n1       0         0      0           0                        0\n2       0         0      0           0                        0\n3       0         0      0           0                        0\n4       0         0      0           0                        0\n5       0         0      0           0                        0\n6       0         0      0           0                        0\n7       0         0      0           0                        0\n8       0         0      0           0                        0"
  },
  {
    "objectID": "rasterBuffer.html#write-out-shapefiles",
    "href": "rasterBuffer.html#write-out-shapefiles",
    "title": "Extracting buffers",
    "section": "Write out shapefiles",
    "text": "Write out shapefiles\nwe can write out vector data to shapefiles using st_write()\n\nst_write(centre_sites, \"data/centre_sites.shp\", delete_layer = TRUE)\n\nDeleting layer `centre_sites' using driver `ESRI Shapefile'\nWriting layer `centre_sites' to data source \n  `data/centre_sites.shp' using driver `ESRI Shapefile'\nWriting 8 features with 1 fields and geometry type Point.\n\nst_write(centre_sites_1000m, \"data/centre_sites_buffer_1000m.shp\", delete_layer = TRUE)\n\nDeleting layer `centre_sites_buffer_1000m' using driver `ESRI Shapefile'\nWriting layer `centre_sites_buffer_1000m' to data source \n  `data/centre_sites_buffer_1000m.shp' using driver `ESRI Shapefile'\nWriting 8 features with 1 fields and geometry type Polygon."
  },
  {
    "objectID": "introgis.html",
    "href": "introgis.html",
    "title": "GIS and R prerequisites",
    "section": "",
    "text": "This page serves as a brief overview of the geographic information systems (GIS) concepts and R packages to get you up and running with the R-based modules in this tutorial. For more in-depth introduction GIS in R, you may want to look elsewhere on the web.",
    "crumbs": [
      "Working with BeeSpatial data in R",
      "GIS and R prerequisites"
    ]
  },
  {
    "objectID": "introgis.html#terms",
    "href": "introgis.html#terms",
    "title": "GIS and R prerequisites",
    "section": "Terms",
    "text": "Terms\n\nraster: A form of geographic data that represents the landscape as a grid of cells. Grid values can be continuous values, signifying things like elevation, temperature, or spectral information (e.g. color) in a satellite image; or categorical values, signifying thematic classes like land cover.\nvector: Another form of geographic data that represents specific features on the landscape composed of discrete geometric locations that consist of x and y values. These can be points, lines, or polygons.\nCropland Data Layer (CDL): A set of raster datasets produced by the USDA National Agricultural Statistics (NASS) Service and Agricultural Research Service (ARS) that represents annual crop-specific land cover produced from satellite imagery and ground reference data.",
    "crumbs": [
      "Working with BeeSpatial data in R",
      "GIS and R prerequisites"
    ]
  },
  {
    "objectID": "introgis.html#load-necessary-packages",
    "href": "introgis.html#load-necessary-packages",
    "title": "GIS and R prerequisites",
    "section": "Load necessary packages",
    "text": "Load necessary packages\nThere are a number of packages in R that are helpful in working with spatial data. For this workshop we will be using sf and terra. For data wrangling and visualizations we will use dplyr, ggplot2 and tidyterra.\n\n\n\nName\nDescription\nLink\n\n\n\n\ndplyr\nPackage that provides a ‘grammar’ of data manipulation in R\nhttps://dplyr.tidyverse.org/\n\n\nggplot2\nPackage that provides a system for declaratively creating graphics\nhttps://ggplot2.tidyverse.org/\n\n\nsf\nPackage for manipulating 2-D geographic vector data\nhttps://r-spatial.github.io/sf/\n\n\nterra\nPackage for spatial data analysis\nhttps://rspatial.github.io/terra/\n\n\ntidyterra\nPackage for integrating objects from terra with the dplyr and ggplot2 packages\nhttps://dieghernan.github.io/tidyterra/\n\n\n\nBecause some spatial functions have the same names as dplyr functions it is helpful to load the spatial packages last. We can also use the :: to specify the package for function calls.\nUnhash (remove the preceding #) and use install.packages for any packages your may not already have installed\n\n# install.packages(\"dplyr\", dependencies = TRUE)\n# install.packages(\"ggplot2\", dependencies = TRUE)\n# install.packages(\"sf\", dependencies = TRUE)\n# install.packages(\"terra\", dependencies = TRUE)\n# install.packages(\"tidyterra\", dependencies = TRUE)\n\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(sf)\nlibrary(terra)\nlibrary(tidyterra)",
    "crumbs": [
      "Working with BeeSpatial data in R",
      "GIS and R prerequisites"
    ]
  },
  {
    "objectID": "BeeSpatialBound.html",
    "href": "BeeSpatialBound.html",
    "title": "Get raster data",
    "section": "",
    "text": "This pages shows how to use BeeSpatial to download the cropland data layer (CDL) raster for Centre County, Pennsylvania for the year 2021.",
    "crumbs": [
      "How to use BeeSpatial",
      "Get raster data"
    ]
  },
  {
    "objectID": "BeeSpatialBound.html#choose-locations",
    "href": "BeeSpatialBound.html#choose-locations",
    "title": "Get raster data",
    "section": "Choose locations",
    "text": "Choose locations\nThe first screen of BeeSpatial allows users to choose locations:\n\n\n\nChoose locations screen\n\n\nThe user’s progress is indicated in the sidebar . To download raster data, choose Select geographic boundaries  in the “Choose locations” section. Since we are downloading a county, select “County” under Administrative level . Select the desired State  (“Pennsylvania”) and County  (“Centre”). The Preview locations map  shows your selection. Once you’ve confirmed the correct boundary has been selected, use the navigation button Choose Variables  in the lower right or the sidebar to move to the next step.",
    "crumbs": [
      "How to use BeeSpatial",
      "Get raster data"
    ]
  },
  {
    "objectID": "BeeSpatialBound.html#choose-variables",
    "href": "BeeSpatialBound.html#choose-variables",
    "title": "Get raster data",
    "section": "Choose variables",
    "text": "Choose variables\n\n\n\nChoose variables screen\n\n\nWe’ve moved on to the Choose variable step in the sidebar . We are making a simple selection, so we use the Bulk Selection panel  to select our desired Data Layers  (“Cropland Data Layer”) and Years  (2021). Note that if we wanted to make a more complex selection combining different layers and years, this can be done in the Advanced Options panel. We’re not doing this, so we move on to the next step Submit Query using the navigation button  in the lower right, or the sidebar.",
    "crumbs": [
      "How to use BeeSpatial",
      "Get raster data"
    ]
  },
  {
    "objectID": "BeeSpatialBound.html#query-view-data",
    "href": "BeeSpatialBound.html#query-view-data",
    "title": "Get raster data",
    "section": "Query & View Data",
    "text": "Query & View Data\n\n\n\nQuery & view data screen\n\n\nQuery & View Data  is the final step in the sidebar. With the desired locations and data layers selected, click the Make Query button  to prepare the data download. Once the data are prepared, a data manifest appears in the View Data panel  showing the data you are downloading. Finally, click Download Data  to download a .zip file containing the requested data layers.",
    "crumbs": [
      "How to use BeeSpatial",
      "Get raster data"
    ]
  },
  {
    "objectID": "vectorWork.html",
    "href": "vectorWork.html",
    "title": "Work with vector data",
    "section": "",
    "text": "Here are some geoprocessing examples for working with the cropland data layer data from BeeSpatial. We show how to visualize the raster and reclassify land cover values into forage index values in spring.\nFirst, load the necessary packages. More info on these packages and their installation can be found here.\n\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(sf)\nlibrary(terra)\nlibrary(tidyterra)",
    "crumbs": [
      "Working with BeeSpatial data in R",
      "Work with vector data"
    ]
  },
  {
    "objectID": "rasterViz.html",
    "href": "rasterViz.html",
    "title": "Visualizing rasters",
    "section": "",
    "text": "Here we show how to visualize the cropland data layer (CDL) raster.\nFirst, load the necessary packages. More info on these packages and their installation can be found here.\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(sf)\nlibrary(terra)\nlibrary(tidyterra)",
    "crumbs": [
      "Working with BeeSpatial data in R",
      "Visualizing rasters"
    ]
  },
  {
    "objectID": "rasterViz.html#read-in-raster-data",
    "href": "rasterViz.html#read-in-raster-data",
    "title": "Visualizing rasters",
    "section": "Read in raster data",
    "text": "Read in raster data\nDownloaded data from BeeSpatial is packaged as a zipped file ending in .zip. Opening this file, you should find a .tif raster file:\nCDL_2021_FIPS_42027.tif\nThis filename indicates the data type, in this case CDL, the year and the FIPS code that corresponds to the county you selected.\nThe first thing we will do is use the rast() function to read the .tif file into R as a SpatRaster object. For the code below to work, you must use your own filepath for the .tif file.\n\ncentre_cdl &lt;- rast(\"data/CDL_2021_FIPS_42027.tif\")    # change the filepath to reflect where you've stored the data\n\ncentre_cdl\n\nclass       : SpatRaster \nsize        : 2147, 3167, 1  (nrow, ncol, nlyr)\nresolution  : 30, 30  (x, y)\nextent      : 1467225, 1562235, 2105925, 2170335  (xmin, xmax, ymin, ymax)\ncoord. ref. : NAD83 / Conus Albers (EPSG:5070) \nsource      : CDL_2021_FIPS_42027.tif \nname        : Class_Names \nmin value   :           1 \nmax value   :         254 \n\n\nAn important attribute of spatial data are their Coordinate Reference System or CRS. This information tells us what model of the earth (ex WGS84 or NAD83) is being referenced as well as the units of the coordinates such as decimal degrees.\nRasters downloaded from BeeSpatial inherit their CRS from the raster they were originally extracted from.\nLet’s view the CRS for your county cdl:\n\ncrs(centre_cdl)\n\n[1] \"PROJCRS[\\\"NAD83 / Conus Albers\\\",\\n    BASEGEOGCRS[\\\"NAD83\\\",\\n        DATUM[\\\"North American Datum 1983\\\",\\n            ELLIPSOID[\\\"GRS 1980\\\",6378137,298.257222101,\\n                LENGTHUNIT[\\\"metre\\\",1]]],\\n        PRIMEM[\\\"Greenwich\\\",0,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433]],\\n        ID[\\\"EPSG\\\",4269]],\\n    CONVERSION[\\\"Conus Albers\\\",\\n        METHOD[\\\"Albers Equal Area\\\",\\n            ID[\\\"EPSG\\\",9822]],\\n        PARAMETER[\\\"Latitude of false origin\\\",23,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8821]],\\n        PARAMETER[\\\"Longitude of false origin\\\",-96,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8822]],\\n        PARAMETER[\\\"Latitude of 1st standard parallel\\\",29.5,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8823]],\\n        PARAMETER[\\\"Latitude of 2nd standard parallel\\\",45.5,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8824]],\\n        PARAMETER[\\\"Easting at false origin\\\",0,\\n            LENGTHUNIT[\\\"metre\\\",1],\\n            ID[\\\"EPSG\\\",8826]],\\n        PARAMETER[\\\"Northing at false origin\\\",0,\\n            LENGTHUNIT[\\\"metre\\\",1],\\n            ID[\\\"EPSG\\\",8827]]],\\n    CS[Cartesian,2],\\n        AXIS[\\\"easting (X)\\\",east,\\n            ORDER[1],\\n            LENGTHUNIT[\\\"metre\\\",1]],\\n        AXIS[\\\"northing (Y)\\\",north,\\n            ORDER[2],\\n            LENGTHUNIT[\\\"metre\\\",1]],\\n    USAGE[\\n        SCOPE[\\\"Data analysis and small scale data presentation for contiguous lower 48 states.\\\"],\\n        AREA[\\\"United States (USA) - CONUS onshore - Alabama; Arizona; Arkansas; California; Colorado; Connecticut; Delaware; Florida; Georgia; Idaho; Illinois; Indiana; Iowa; Kansas; Kentucky; Louisiana; Maine; Maryland; Massachusetts; Michigan; Minnesota; Mississippi; Missouri; Montana; Nebraska; Nevada; New Hampshire; New Jersey; New Mexico; New York; North Carolina; North Dakota; Ohio; Oklahoma; Oregon; Pennsylvania; Rhode Island; South Carolina; South Dakota; Tennessee; Texas; Utah; Vermont; Virginia; Washington; West Virginia; Wisconsin; Wyoming.\\\"],\\n        BBOX[24.41,-124.79,49.38,-66.91]],\\n    ID[\\\"EPSG\\\",5070]]\"\n\n\nWe can see that our CDL raster is using the North American Datum of 1983 as its model for the shape of the earth. Our two-dimensional projection model of earth’s 3d surface is Alber’s Equal Area and the units of our coordinates are in meters.",
    "crumbs": [
      "Working with BeeSpatial data in R",
      "Visualizing rasters"
    ]
  },
  {
    "objectID": "rasterViz.html#visualize-raster-data",
    "href": "rasterViz.html#visualize-raster-data",
    "title": "Visualizing rasters",
    "section": "Visualize raster data",
    "text": "Visualize raster data\nWe can visualize our county CDl raster by using the base R plot function:\n\nplot(centre_cdl)\n\n\n\n\n\n\n\n\nWe’ll talk about other plotting options such as using the packages ggplot2 and tidyterra a little later.\n\nDisplay CDL class names\nRight now we are viewing the raw numeric codes of the CDL. These codes mean something: the crop land cover class. We can tell terra what these codes mean so that it will show the land cover class names rather than the raw values. The information for these land cover values (along with their colors) are stored in a color table downloadable here.\n\ncdl_colormap &lt;- read.csv(\"data/cdl_colormap.csv\")   # read in the table from your download location\n\nhead(cdl_colormap)  # use `head()` to take a look at the first 5 rows of cdl_colormap\n\n  value red green blue alpha class_name\n1     0   0     0    0   255 Background\n2     1 255   211    0   255       Corn\n3     2 255    38   38   255     Cotton\n4     3   0   168  228   255       Rice\n5     4 255   158   11   255    Sorghum\n6     5  38   112    0   255   Soybeans\n\n\nWe set the levels of the raster to the land cover class names using the relevant elements of cdl_colormap: ‘value’ (column 1) and ‘class_name’ (column 6).\n\nlevels(centre_cdl) &lt;- cdl_colormap[,c(1,6)]\n\nplot(centre_cdl)  # plot, as above, but now R knows what the numeric values mean\n\n\n\n\n\n\n\n\nThen we can recolor the classes to match the traditional NASS CDL style.\nThis color information is stored in columns 2-5 of the cdl_colormap table, representing red, green, blue, and alpha (transparency) values. We use the function coltab to supply the color map with this information in columns that are in this specific order, plus the corresponding (raw) raster value as the first column (they are already set up as the first 5 columns of cdl_colormap)\n\ncoltab(centre_cdl) &lt;- cdl_colormap[,1:5]\n\nplot(centre_cdl)  # plot, as above, but now R knows what the numeric values mean and assigns colors\n\n\n\n\n\n\n\n\nLet’s look at some customization options. To do this, we’ll be using the ggplot2 tidyterra packages. ggplot2 plots a little differently from base R. Data elements are layered on top of a base plot using + signs and functions that start with geom_. Here, we’re starting with a blank base plot and adding the spatraster object using geom_spatraster().\n\nggplot() +  # blank base plot\n  geom_spatraster(data = centre_cdl, aes(fill = class_name))   # add the spatraster layer\n\n&lt;SpatRaster&gt; resampled to 500797 cells.\n\n\n\n\n\n\n\n\n\nThe legend is now quite large but can be easily modified using ggplot2 theme functions.\n\nggplot() +\n  geom_spatraster(data = centre_cdl, aes(fill = class_name)) +\n  theme(legend.title = element_text(size = 7), # make legend title smaller\n        legend.text = element_text(size = 7), # make legend text smaller\n        legend.key.size = unit(0.25, 'cm'), #make legend color keys smaller\n        legend.position=\"bottom\") # move legend to the bottom of the plot\n\n&lt;SpatRaster&gt; resampled to 500797 cells.",
    "crumbs": [
      "Working with BeeSpatial data in R",
      "Visualizing rasters"
    ]
  },
  {
    "objectID": "rasterViz.html#write-out-raster-files",
    "href": "rasterViz.html#write-out-raster-files",
    "title": "Visualizing rasters",
    "section": "Write out raster files",
    "text": "Write out raster files\nWe can save our raster files as a .tif using writeRaster. For the CDL raster we will save the data in “INT1U” format which will also save the class names and color table.\n\nwriteRaster(centre_cdl, \"data/centre_county_cdl_2021.tif\", overwrite=TRUE, datatype=\"INT1U\")",
    "crumbs": [
      "Working with BeeSpatial data in R",
      "Visualizing rasters"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Welcome to the BeeSpatial Tutorial",
    "section": "",
    "text": "BeeSpatial is a companion web application to Beescape. It provides researchers with access to pollinator habitat quality indices that assess nesting suitability, floral resources, and toxicity of potentially applied insecticides. It also hosts base data layers on land cover and climate. Data are available from 2008 to the most recent available year (currently 2024).\nThere are two ways of getting data from BeeSpatial:\n\nAs raster layers covering an administrative area selected by the user\nAs summaries of data values at or around points uploaded by the user\n\nThe data from BeeSpatial is a starting point for further analysis. On this website, we provide some basic tutorials on some common geoprocessing steps using the statistical software R.",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "rasterReclass.html",
    "href": "rasterReclass.html",
    "title": "Reclassify CDL",
    "section": "",
    "text": "Here are some geoprocessing examples for reclassifying the cropland data layer (CDL) data from BeeSpatial. BeeSpatial provides forage, nesting, and insecticide rasters as buffered summaries using distance-weighted means of 1, 3, and 5km radius buffers. This means that each pixel of the raster represents the distance-weighted mean of the index values within the corresponding buffer radius.\nHowever, if you only need forage, nesting, or insecticide values themselves instead of buffer summaries, you can obtain this through reclassifying the CDL. This tutorial shows how to do that.\nFirst, load the necessary packages. More info on these packages and their installation can be found here.\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(sf)\nlibrary(terra)\nlibrary(tidyterra)\nRead in the CDL data downloaded from BeeSpatial.\ncentre_cdl &lt;- rast(\"data/CDL_2021_FIPS_42027.tif\")    # change the filepath to reflect where you've stored the data",
    "crumbs": [
      "Working with BeeSpatial data in R",
      "Reclassify CDL"
    ]
  },
  {
    "objectID": "rasterReclass.html#inspect-raster-values",
    "href": "rasterReclass.html#inspect-raster-values",
    "title": "Reclassify CDL",
    "section": "Inspect raster values",
    "text": "Inspect raster values\nUsing the values() function we can directly inspect the spring floral values for Centre County. We will set the argument na.rm=TRUE so that all the empty cells (outside of the county) are not included. The result of values() shows individual grid cell values. In this case we will only extract the first 20 grid cell values.\n\nvalues(centre_floral_sp, na.rm=TRUE)[1:20]   # just the first 20 cells\n\n [1] 0.5848480 0.0000000 0.6965277 0.5848480 0.0000000 0.0000000 0.6965277\n [8] 0.5848480 0.0000000 0.0000000 0.6965277 0.6965277 0.6965277 0.0000000\n[15] 0.0000000 0.0000000 0.6965277 0.6965277 0.5848480 0.0000000\n\n\nWe can also use some basic summary functions to view the distribution of floral resource values for the county.\n\nsummary(values(centre_floral_sp, na.rm=TRUE))    # make a summary with the quartiles and the mean\n\n  Class_Names    \n Min.   :0.0000  \n 1st Qu.:0.4558  \n Median :0.6965  \n Mean   :0.5813  \n 3rd Qu.:0.6965  \n Max.   :0.6993  \n\nhist(values(centre_floral_sp, na.rm=TRUE))       # make a basic histogram of values",
    "crumbs": [
      "Working with BeeSpatial data in R",
      "Reclassify CDL"
    ]
  },
  {
    "objectID": "rasterReclass.html#write-out-raster-files",
    "href": "rasterReclass.html#write-out-raster-files",
    "title": "Reclassify CDL",
    "section": "Write out raster files",
    "text": "Write out raster files\nWe can save our raster files as a .tif using writeRaster.\n\nwriteRaster(centre_floral_sp, \"data/centre_county_springfloral_2021.tif\", overwrite=TRUE)",
    "crumbs": [
      "Working with BeeSpatial data in R",
      "Reclassify CDL"
    ]
  },
  {
    "objectID": "BeeSpatialPts.html",
    "href": "BeeSpatialPts.html",
    "title": "Query points",
    "section": "",
    "text": "To demonstrate the features and workflow of BeeSpatial for evaluating spatial data across multiple sites, we used 59 sites in Pennsylvania, USA from McNeil et al 2020.\nThe coordinates for these points are available here.",
    "crumbs": [
      "How to use BeeSpatial",
      "Query points"
    ]
  },
  {
    "objectID": "BeeSpatialPts.html#choose-locations",
    "href": "BeeSpatialPts.html#choose-locations",
    "title": "Query points",
    "section": "Choose locations",
    "text": "Choose locations\n\nWe uploaded the file containing the projected site coordinates in decimal degrees and confirmed the appropriate column names representing the longitude and latitudes as well as unique site identifiers. We then used the preview map to confirm that the locations were in the correct area and not outside of continental US where data are unavailable.",
    "crumbs": [
      "How to use BeeSpatial",
      "Query points"
    ]
  },
  {
    "objectID": "BeeSpatialPts.html#choose-variables",
    "href": "BeeSpatialPts.html#choose-variables",
    "title": "Query points",
    "section": "Choose variables",
    "text": "Choose variables\n\nAll available variable options for the years 2018 and 2019 were selected. A 1-km radius was applied to calculate landcover, forage, nesting, and insecticide indices around each location. The forage index was computed for the spring, summer, and fall seasons. Advanced options in BeeSpatial allow for customized combinations of years, radii, and, in the case of forage, seasons, although these were not modified in this example.",
    "crumbs": [
      "How to use BeeSpatial",
      "Query points"
    ]
  },
  {
    "objectID": "BeeSpatialPts.html#query-view-data",
    "href": "BeeSpatialPts.html#query-view-data",
    "title": "Query points",
    "section": "Query & view data",
    "text": "Query & view data\n\nData extraction and calculations for each location are completed after selecting “Make Query”, after which the resulting data tables can be previewed before downloading.",
    "crumbs": [
      "How to use BeeSpatial",
      "Query points"
    ]
  }
]